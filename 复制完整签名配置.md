# 从本地复制完整的签名配置到服务器

## 问题

服务器上的签名文件和密码配置不匹配。

## 正确的操作步骤

### 在本地电脑上：

#### 1. 找到本地的签名文件

根据您的 build-profile.json5，签名文件在：

```
C:\Users\Administrator\.ohos\config\
```

文件名包含：`default_huawei_zidkWqUbJdiXtzTPBr0kwe13uGqFltXrzJ2rrlWZQjY=`

完整路径：
- `C:\Users\Administrator\.ohos\config\default_huawei_zidkWqUbJdiXtzTPBr0kwe13uGqFltXrzJ2rrlWZQjY=.p12`
- `C:\Users\Administrator\.ohos\config\default_huawei_zidkWqUbJdiXtzTPBr0kwe13uGqFltXrzJ2rrlWZQjY=.cer`
- `C:\Users\Administrator\.ohos\config\default_huawei_zidkWqUbJdiXtzTPBr0kwe13uGqFltXrzJ2rrlWZQjY=.p7b`

#### 2. 复制这三个文件

将这三个文件复制出来，重命名为：
- `debug.p12`
- `debug.cer`
- `debug.p7b`

#### 3. 传输到服务器

将这三个重命名后的文件传输到服务器的：
```
c:\huawei\.signing\
```

**替换现有的文件！**

#### 4. 确认 build-profile.json5

确保服务器上的 `c:\huawei\build-profile.json5` 已经更新为正确的密码配置（我已经帮您更新了）。

#### 5. 重新构建

在服务器的 DevEco Studio 中：
```
Build → Clean Project
Build → Build Hap(s)
```

## 验证文件完整性

在服务器上运行 PowerShell：

```powershell
cd c:\huawei
Get-ChildItem .signing\debug.* | Select-Object Name, Length, LastWriteTime
```

应该看到三个文件，并且修改时间是最新的。

## 注意事项

1. **必须是同一套签名文件**
   - .p12, .cer, .p7b 必须是一起生成的
   - 不能混用不同时间生成的文件

2. **文件完整性**
   - 确保文件没有损坏
   - 建议使用压缩包传输

3. **密码配置**
   - 密码配置必须与签名文件匹配
   - 已从本地 build-profile.json5 复制

## 如果还是失败

如果按照上述步骤操作后仍然失败，建议：

1. 在本地电脑上重新生成签名
2. 或者直接在本地电脑构建 HAP
3. 然后将构建好的 HAP 文件传输到服务器
