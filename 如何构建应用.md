# å¦‚ä½•æ„å»º HarmonyOS åº”ç”¨

## âœ… æ‚¨å·²å®Œæˆçš„é…ç½®

- âœ… ç­¾åæ–‡ä»¶å·²é…ç½®ï¼ˆdebug.p12, debug.cer, debug.p7bï¼‰
- âœ… ç­¾åé…ç½®å·²æ·»åŠ åˆ° build-profile.json5
- âœ… é¡¹ç›®ç»“æ„å®Œæ•´

## ğŸš€ æ„å»ºåº”ç”¨çš„æ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨ DevEco Studioï¼ˆæœ€æ¨èï¼‰

**è¿™æ˜¯æœ€ç®€å•ã€æœ€å¯é çš„æ–¹å¼ã€‚**

#### æ­¥éª¤ï¼š

1. **æ‰“å¼€ DevEco Studio**

2. **æ‰“å¼€é¡¹ç›®**
   - File â†’ Open
   - é€‰æ‹©ï¼š`c:\huawei`
   - ç­‰å¾…é¡¹ç›®åŒæ­¥å®Œæˆ

3. **æ„å»º HAP**
   - èœå•ï¼šBuild â†’ Build Hap(s) / APP(s) â†’ Build Hap(s)
   - æˆ–ç‚¹å‡»å·¥å…·æ çš„æ„å»ºæŒ‰é’®ï¼ˆé”¤å­å›¾æ ‡ï¼‰

4. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - åº•éƒ¨ä¼šæ˜¾ç¤ºæ„å»ºè¿›åº¦
   - æˆåŠŸåä¼šæ˜¾ç¤º "BUILD SUCCESSFUL"

5. **æ‰¾åˆ° HAP æ–‡ä»¶**
   ```
   entry\build\default\outputs\default\entry-default-signed.hap
   ```

6. **ä¸Šä¼ åˆ°æœåŠ¡å™¨æµ‹è¯•**

---

### æ–¹æ³• 2ï¼šå®‰è£… Node.js åä½¿ç”¨å‘½ä»¤è¡Œ

å¦‚æœæ‚¨æƒ³åœ¨è™šæ‹ŸæœåŠ¡å™¨ä¸Šå‘½ä»¤è¡Œæ„å»ºï¼š

#### æ­¥éª¤ 1ï¼šå®‰è£… Node.js

1. ä¸‹è½½ Node.jsï¼šhttps://nodejs.org/
   - æ¨èç‰ˆæœ¬ï¼šLTSï¼ˆé•¿æœŸæ”¯æŒç‰ˆï¼‰
   - Windows x64 ç‰ˆæœ¬

2. å®‰è£… Node.js
   - åŒå‡»å®‰è£…åŒ…
   - å…¨éƒ¨ä½¿ç”¨é»˜è®¤è®¾ç½®
   - ç¡®ä¿å‹¾é€‰ "Add to PATH"

3. éªŒè¯å®‰è£…
   ```powershell
   node --version
   npm --version
   ```

#### æ­¥éª¤ 2ï¼šæ„å»ºåº”ç”¨

å®‰è£…å®Œ Node.js åï¼š

```powershell
cd c:\huawei
.\build.ps1
```

æˆ–ç›´æ¥ä½¿ç”¨ï¼š

```powershell
cd c:\huawei
node oh_modules\.bin\hvigorw.js assembleHap
```

---

### æ–¹æ³• 3ï¼šä½¿ç”¨ ohpmï¼ˆHarmonyOS åŒ…ç®¡ç†å™¨ï¼‰

å¦‚æœæ‚¨å®‰è£…äº† HarmonyOS SDKï¼š

```powershell
cd c:\huawei
ohpm build
```

---

## ğŸ“¦ æ„å»ºäº§ç‰©ä½ç½®

æ„å»ºæˆåŠŸåï¼ŒHAP æ–‡ä»¶ä½äºä»¥ä¸‹ä½ç½®ä¹‹ä¸€ï¼š

```
entry\build\default\outputs\default\entry-default-signed.hap
```

æˆ–

```
entry\build\outputs\default\entry-default-signed.hap
```

## ğŸ” éªŒè¯ç­¾å

æ‚¨å¯ä»¥éªŒè¯ HAP æ˜¯å¦å·²ç­¾åï¼š

```powershell
# æŸ¥çœ‹ HAP æ–‡ä»¶ä¿¡æ¯
Get-Item entry\build\default\outputs\default\*.hap | Select-Object Name, Length
```

å·²ç­¾åçš„ HAP æ–‡ä»¶åé€šå¸¸åŒ…å« `-signed`ã€‚

## ğŸ“¤ ä¸Šä¼ åˆ°æœåŠ¡å™¨æµ‹è¯•

### ä½¿ç”¨ SCPï¼ˆå¦‚æœæœ‰ï¼‰

```powershell
scp entry\build\default\outputs\default\entry-default-signed.hap user@server:/path/
```

### ä½¿ç”¨ FTP

ä½¿ç”¨ FTP å®¢æˆ·ç«¯ï¼ˆå¦‚ FileZillaï¼‰ä¸Šä¼  HAP æ–‡ä»¶ã€‚

### ä½¿ç”¨å…±äº«æ–‡ä»¶å¤¹

å¦‚æœæ˜¯äº‘æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨å…±äº«æ–‡ä»¶å¤¹æˆ–å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚

## ğŸ¯ åœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šå®‰è£…

å¦‚æœæ‚¨çš„æµ‹è¯•æœåŠ¡å™¨è¿æ¥äº† HarmonyOS è®¾å¤‡ï¼š

```bash
# ä½¿ç”¨ hdcï¼ˆHarmonyOS Device Connectorï¼‰
hdc install entry-default-signed.hap

# æŸ¥çœ‹å·²å®‰è£…çš„åº”ç”¨
hdc shell bm dump -a
```

## â“ å¸¸è§é—®é¢˜

### Q1: æ„å»ºå¤±è´¥ï¼Œæç¤ºç¼ºå°‘ä¾èµ–ï¼Ÿ

**A:** åœ¨ DevEco Studio ä¸­ï¼š
- File â†’ Sync Project
- æˆ–åˆ é™¤ `oh_modules` æ–‡ä»¶å¤¹ï¼Œé‡æ–°åŒæ­¥

### Q2: ç­¾åéªŒè¯å¤±è´¥ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. ç­¾åæ–‡ä»¶æ˜¯å¦å®Œæ•´ï¼ˆdebug.p12, debug.cer, debug.p7bï¼‰
2. build-profile.json5 ä¸­çš„ç­¾åé…ç½®æ˜¯å¦æ­£ç¡®
3. Bundle ID æ˜¯å¦ä¸è¯ä¹¦åŒ¹é…

### Q3: HAP æ— æ³•å®‰è£…åˆ°è®¾å¤‡ï¼Ÿ

**A:** å¯èƒ½åŸå› ï¼š
1. ç­¾åä¸åŒ¹é…
2. è®¾å¤‡ä¸åœ¨è¯ä¹¦å…è®¸çš„è®¾å¤‡åˆ—è¡¨ä¸­
3. Bundle ID å†²çªï¼ˆå¸è½½æ—§ç‰ˆæœ¬ï¼‰

### Q4: æ‰¾ä¸åˆ° HAP æ–‡ä»¶ï¼Ÿ

**A:** æ£€æŸ¥è¿™äº›ä½ç½®ï¼š
```powershell
Get-ChildItem -Path entry\build -Filter *.hap -Recurse
```

## ğŸ“ å½“å‰é…ç½®æ€»ç»“

### ç­¾åé…ç½®
- âœ… Store File: `.signing/debug.p12`
- âœ… Certificate: `.signing/debug.cer`
- âœ… Profile: `.signing/debug.p7b`
- âœ… Key Alias: `debugKey`
- âœ… Sign Algorithm: `SHA256withECDSA`

### Bundle ä¿¡æ¯
- Bundle Name: `com.example.myapplication`
- Version: 1.0.0
- Target SDK: 6.0.2(22)

## ğŸš€ å¿«é€Ÿå¼€å§‹

**æœ€å¿«çš„æ–¹å¼ï¼ˆå¦‚æœæœ‰ DevEco Studioï¼‰ï¼š**

1. æ‰“å¼€ DevEco Studio
2. æ‰“å¼€é¡¹ç›® `c:\huawei`
3. ç‚¹å‡» Build â†’ Build Hap
4. å®Œæˆï¼

**å‘½ä»¤è¡Œæ–¹å¼ï¼ˆéœ€è¦å…ˆå®‰è£… Node.jsï¼‰ï¼š**

1. å®‰è£… Node.jsï¼ˆä¸€æ¬¡æ€§ï¼‰
2. è¿è¡Œ `.\build.ps1`
3. æ‰¾åˆ° HAP æ–‡ä»¶
4. ä¸Šä¼ æµ‹è¯•

---

## ğŸ’¡ å»ºè®®

æ ¹æ®æ‚¨çš„ç¯å¢ƒï¼š

- **å¦‚æœæœ‰ GUI è®¿é—®æƒé™** â†’ ä½¿ç”¨ DevEco Studioï¼ˆæœ€ç®€å•ï¼‰
- **å¦‚æœæ˜¯çº¯å‘½ä»¤è¡Œç¯å¢ƒ** â†’ å®‰è£… Node.jsï¼Œç„¶åä½¿ç”¨å‘½ä»¤è¡Œæ„å»º
- **å¦‚æœæ˜¯ CI/CD ç¯å¢ƒ** â†’ é…ç½® Node.js + è‡ªåŠ¨åŒ–è„šæœ¬

**å½“å‰çŠ¶æ€**ï¼šç­¾åé…ç½®å·²å®Œæˆï¼Œåªéœ€è¦æ„å»ºå·¥å…·å³å¯ï¼
