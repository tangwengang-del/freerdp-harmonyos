# 从本地电脑获取正确的签名配置

## 问题

服务器上的 `build-profile.json5` 中的密码配置与签名文件不匹配。

## 解决方案

从本地电脑（生成签名文件的机器）复制正确的签名配置到服务器。

## 步骤

### 在本地电脑上：

1. **打开本地项目的 `build-profile.json5`**
   
   路径：`项目根目录\build-profile.json5`

2. **找到 `signingConfigs` 部分**

   应该类似这样：
   ```json5
   "signingConfigs": [
     {
       "name": "default",
       "type": "HarmonyOS",
       "material": {
         "storeFile": "某个路径/xxx.p12",
         "storePassword": "0000001B...(很长的加密密码)",
         "keyAlias": "debugKey" 或 "1",
         "keyPassword": "0000001B...(很长的加密密码)",
         "signAlg": "SHA256withECDSA",
         "profile": "某个路径/xxx.p7b",
         "certpath": "某个路径/xxx.cer"
       }
     }
   ]
   ```

3. **复制这两个加密密码**：
   - `storePassword`: "0000001B..."
   - `keyPassword`: "0000001B..."
   - 以及 `keyAlias` 的值

4. **发送到服务器**

### 在服务器上：

更新 `c:\huawei\build-profile.json5`，替换：

```json5
"storePassword": "替换为本地的storePassword",
"keyAlias": "替换为本地的keyAlias",
"keyPassword": "替换为本地的keyPassword",
```

## 示例

**本地 build-profile.json5 中的配置：**
```json5
"storePassword": "0000001BABC123DEF456...",
"keyAlias": "1",
"keyPassword": "0000001BXYZ789GHI012...",
```

**复制到服务器的 build-profile.json5：**
```json5
"signingConfigs": [
  {
    "name": "default",
    "type": "HarmonyOS",
    "material": {
      "storeFile": ".signing/debug.p12",
      "storePassword": "0000001BABC123DEF456...",  // 从本地复制
      "keyAlias": "1",                              // 从本地复制
      "keyPassword": "0000001BXYZ789GHI012...",    // 从本地复制
      "signAlg": "SHA256withECDSA",
      "profile": ".signing/debug.p7b",
      "certpath": ".signing/debug.cer"
    }
  }
],
```

## 完成后

在服务器上重新构建：

```
Build → Build Hap(s)
```

应该就能成功签名了！
